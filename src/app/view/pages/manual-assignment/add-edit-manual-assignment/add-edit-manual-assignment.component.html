<!-- <main id="main" class="main"> -->
  <mat-card>
    <mat-card-title class="mat-card-title-style">{{addEditHeadTitle}}
        <i class="ri-close-line cursor_pointer closeModelDialog" (click)="cancelAddEditForm()"></i>
    </mat-card-title>
    <mat-card-actions class="p-2">
      <form [formGroup]="addEditForm">
        <div class="row leadDetailsStyle"  *ngIf="viewLeadAllDetailsOnly">
          <div class="col-6 br_gainsboro ">
            <div class="row">
              <br>
              <div class="card">
                <span class="mb-2 CardTitleStyle text-primary">Basic Details :</span>
                <div class="row">
                  <div class="col-6 mb-2">
                    <h5>lead ID</h5>
                    <label class="d-block o_07">{{allLeadDetails.leadId}}</label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>Name</h5>
                    <label class="d-block o_07 verifiedLabel">{{allLeadDetails.firstName}} {{allLeadDetails?.middleName}} {{allLeadDetails.lastName}}
                      <i *ngIf="allLeadDetails?.isPanNameValid == false" class="ri-close-circle-line text-danger mobileVerifiedIcon" style="top:-6px"></i>
                      <i *ngIf="allLeadDetails?.isPanNameValid == true" class="ri-checkbox-circle-line text-success mobileVerifiedIcon"></i>
                    </label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>Mobile Number</h5>
                    <label class="d-block o_07 verifiedLabel">{{allLeadDetails.mobileNo}}
                      <i *ngIf="allLeadDetails.isMobileVerified == true" class="ri-checkbox-circle-line text-success mobileVerifiedIcon"></i>
                    </label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>Alternate Mobile Number</h5>
                    <label class="d-block o_07">{{!allLeadDetails.alternateMobileNo ? '-':allLeadDetails.alternateMobileNo}}</label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>Email Id</h5>
                    <label class="d-block o_07 verifiedLabel">{{allLeadDetails.email}}<i *ngIf="allLeadDetails.isEmailVerified == true" class="ri-checkbox-circle-line text-success mobileVerifiedIcon"></i></label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>Gender</h5>
                    <label class="d-block o_07">{{allLeadDetails.gender}}</label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>Date of Birth</h5>
                    <label class="d-block o_07 verifiedLabel">{{allLeadDetails.dateOfBirth | date:'d MMMM , y'}}
                      <i *ngIf="allLeadDetails?.isPanValid == false" class="ri-close-circle-line text-danger mobileVerifiedIcon" style="top:-6px"></i>
                      <i *ngIf="allLeadDetails?.isPanValid == true" class="ri-checkbox-circle-line text-success mobileVerifiedIcon"></i>
                    </label>
                  </div>
                </div>
              </div>
              <div class="card">
                <span class="mb-2 CardTitleStyle text-primary">KYC Details :</span>
                <div class="row">
                  <div class="col-6 mb-2">
                    <h5>Pan Number</h5>
                    <label class="d-block o_07 verifiedLabel">{{allLeadDetails.pan}}<i *ngIf="allLeadDetails.isPanVerified == true" class="ri-checkbox-circle-line text-success mobileVerifiedIcon"></i></label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>Addhar Number</h5>
                    <label class="d-block o_07">{{allLeadDetails.aadhar}}</label>
                  </div>
                </div>
              </div>
              <div class="card">
                <span class="mb-2 CardTitleStyle text-primary">Location Details :</span>
                <div class="row">
                  <!-- <div class="col-6 mb-2">
                    <h5>Country</h5>
                    <label class="d-block o_07">{{allLeadDetails.country?.countryName}}</label>
                  </div> -->
                  <div class="col-6 mb-2">
                    <h5>City</h5>
                    <label class="d-block o_07">{{allLeadDetails.city?.cityName}}</label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>State</h5>
                    <label class="d-block o_07">{{allLeadDetails.state?.stateName}}</label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>Pincode</h5>
                    <label class="d-block o_07">{{allLeadDetails.pincode?.pincode}}</label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>Area</h5>
                    <label class="d-block o_07">{{allLeadDetails.pincode?.areaName}}</label>
                  </div>
                  <div class="col-6 mb-2">
                    <h5>Branch Name</h5>
                    <label class="d-block o_07">{{allLeadDetails.pincode?.branch?.branchName}}</label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-6 " >
            <div class="row">
              <div class="card" *ngIf="allLeadDetails.isConvertedFromEnquiry == false">
                <span class="mb-2 CardTitleStyle text-primary">Lead Information :</span>
                  <div class="row">
                    <div class="col-6 mb-2">
                      <h5>Lead Source</h5>
                      <label class="d-block o_07">{{allLeadDetails.leadSource?.leadSourceName}}</label>
                    </div>
                    <div class="col-6 mb-2">
                      <h5>Lead Stage</h5>
                      <label class="d-block o_07">{{allLeadDetails.leadStage}}</label>
                    </div>
                    <div class="col-6 mb-2"  *ngIf="allLeadDetails.leadStatus?.id == '1'">
                      <h5>Lead Status</h5>
                      <label class="d-block o_07">{{allLeadDetails?.leadStatus?.leadStatus}}</label>
                    </div>
                    <div class="col-6 mb-2">
                      <h5>Asssined To</h5>
                      <label class="d-block o_07">{{allLeadDetails.assignTo?.firstName}} {{allLeadDetails.assignTo?.lastName}}</label>
                    </div>
                  </div>
              </div>
              <div class="card" *ngIf="allLeadDetails.isConvertedFromEnquiry == true">
                <span class="mb-2 CardTitleStyle text-primary">Enquiry Information :</span>
                  <div class="row">
                    <!-- <div class="col-6 mb-2">
                      <h5>Enquiry Source</h5>
                      <label class="d-block o_07">{{allLeadDetails.leadSource?.leadSourceName}}</label>
                    </div> -->
                    <div class="col-6 mb-2">
                      <h5>Enquiry Stage</h5>
                      <label class="d-block o_07">{{allLeadDetails.leadStage}}</label>
                    </div>
                    <div class="col-6 mb-2">
                      <h5>Enquiry Status</h5>
                      <label class="d-block o_07">{{allLeadDetails.isConvertedFromEnquiry == true ? 'Converted To Lead' : '-'}}</label>
                    </div>
                    <div class="col-6 mb-2">
                      <h5>Asssined To</h5>
                      <label class="d-block o_07">{{allLeadDetails.assignTo?.firstName}} {{allLeadDetails.assignTo?.lastName}}</label>
                    </div>
                  </div>
              </div>
            </div>


            <div class="row"  *ngIf="viewLeadAllDetailsOnly && allLeadDetails.createdBy!='Sales' && allLeadDetails.scheduleDate !=null ">
              <!-- <span class="mb-3 leadTitle">Lead Schedule Details :</span> -->
              <div class="card">
                <span class="mb-2 CardTitleStyle text-primary">Lead Schedule Details :</span>
                <div class="row">
              <div class="col-6 mb-2">
                  <h5>Schedule Date</h5>
                  <label class="d-block o_07">{{allLeadDetails.scheduleDate | date:'EEEE, MMMM d,y'}}</label>
              </div>
              <div class="col-6 mb-2">
                <h5>Convenient Time</h5>
                <label class="d-block o_07">{{allLeadDetails.convenientTime}}</label>
              </div>
              <div class="col-6 mb-2" *ngIf="allLeadDetails.loanRemark == null">
                <h5>Lead Status</h5>
                <label class="d-block o_07">{{allLeadDetails?.leadStatus?.leadStatus}}</label>
              </div>
              <div class="col-6 mb-2">
                <h5>Comments</h5>
                <label class="d-block o_07">{{allLeadDetails.scheduledRemark}}</label>
              </div>
              </div>
              </div>
              <!-- <p class="boredrBottomCore"></p> -->
            </div>
<!-- Lead Loan Details -->
            <div class="row" *ngIf="(viewLeadAllDetailsOnly && (allLeadDetails.leadStage=='Under process') || allLeadDetails.leadStage=='Approved' || allLeadDetails.leadStage=='Reject' || allLeadDetails.leadStage=='Under Review')">
              <!-- <span class="mb-3 leadTitle">Lead Loan Details :</span> -->
              <div class="card">
                <span class="mb-2 CardTitleStyle text-primary">Lead Loan Details :</span>
                <div class="row">
              <div class="col-6 mb-2">
                  <h5>Lead Ammount</h5>
                  <label class="d-block o_07">{{allLeadDetails.loanAmount}}</label>
              </div>
              <div class="col-6 mb-2">
                <h5>Product</h5>
                <label class="d-block o_07">{{allLeadDetails.product?.productName}}</label>
              </div>
              <div class="col-6 mb-2">
                <h5>Tenure</h5>
                <label class="d-block o_07">{{allLeadDetails.tenor}}</label>
              </div>
              <div class="col-6 mb-2">
                <h5>File Upload</h5>
                <label class="d-block o_07"><a class="textPrimaryColor" (click)="viewUploadFile(allLeadDetails.id)">View Files</a></label>
              </div>
              <div class="col-6 mb-2" *ngIf="allLeadDetails.approvedRemark == null">
                <h5>Lead Status</h5>
                <label class="d-block o_07">{{allLeadDetails?.leadStatus?.leadStatus}}</label>
              </div>
              <div class="col-6 mb-2">
                <h5>Comments</h5>
                <label class="d-block o_07">{{allLeadDetails.loanRemark}}</label>
              </div>
              </div>
              </div>
              <!-- <p class="boredrBottomCore"></p> -->
            </div>

            <!-- Lead Approval Details -->
            <div class="row" *ngIf="viewLeadAllDetailsOnly && ( allLeadDetails.leadStage=='Approved' || allLeadDetails.leadStage=='Reject' || allLeadDetails.leadStage=='Under Review')">
              <!-- <span class="mb-3 leadTitle">Lead Approval Details :</span> -->
              <div class="card">
                <span class="mb-2 CardTitleStyle text-primary">Lead Approval Details :</span>
                <div class="row">
              <div class="col-6 mb-2">
                  <h5>Cibil Score</h5>
                  <label class="d-block o_07">{{allLeadDetails.cibilScore}}</label>
              </div>
              <div class="col-6 mb-2">
                <h5>Lead Approval</h5>
                <label class="d-block o_07">{{allLeadDetails.leadStage}}</label>
              </div>
              <div class="col-6 mb-2" *ngIf="allLeadDetails.leadStage=='Reject'">
                <h5>Reject Reason</h5>
                <label class="d-block o_07">{{allLeadDetails.rejectReason}}</label>
              </div>
              <div class="col-6 mb-2">
                <h5>Lead Status</h5>
                <label class="d-block o_07">{{allLeadDetails?.leadStatus?.leadStatus}}</label>
              </div>
              <div class="col-6 mb-2">
                <h5>Comments</h5>
                <label class="d-block o_07">{{allLeadDetails.approvedRemark}}</label>
              </div>
              </div>
              </div>
            </div>

            <div class="row" *ngIf="EditAssignToUser">
              <!-- <span class="mb-3 leadTitle">Lead Approval Details :</span> -->
              <div class="card autoFoucusStyle">
                <span class="mb-2 CardTitleStyle text-primary">Assign To User :</span>
                <div class="col-12">
                  <div class="row mb-2">
                    <!-- <div class="col-4 mt-2"><label for="leadStage">Lead Approval<span
                          class="text-danger"> *</span></label></div>
                    <div class="col-8"> -->
                      <mat-form-field class="w-100">
                        <mat-select formControlName="userId"
                          placeholder="Select User">
                          <mat-option *ngFor="let name of AssignToName"
                            [value]="name?.id">
                            {{name?.firstName}} {{name?.lastName}}
                          </mat-option>
                        </mat-select>
                        <mat-error
                          *ngIf="isControlHasError('userId','required')">
                          Assign To User is <strong>required</strong>
                        </mat-error>
                      </mat-form-field>
                    </div>
                  <!-- </div> -->
                </div>
              </div>
            </div>

          </div>
        </div>

      </form>
      <div class="btn_group boredrTopCore mt-2">
        <button mat-raised-button class="mt-3" (click)="cancelAddEditForm()">Cancel</button>
        <!-- <button mat-raised-button *ngIf="saveBtn" class="Save_btn"
          (click)="saveAddEditForm()">Save</button> -->
        <button mat-raised-button class="mt-3" *ngIf="createBtn" (click)="createAddEditForm()"
          color="primary">{{crateleadBtnName}}</button>
      </div>
    </mat-card-actions>
  </mat-card>
  <!-- </main> -->
